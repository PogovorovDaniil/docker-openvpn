# docker-openvpn

Этот проект предоставляет все необходимые инструменты для развертывания сервера OpenVPN в Docker-контейнере. Он включает скрипты для сборки образа контейнера, инициализации сервера и управления клиентами.

## Возможности

- **Полная настройка через переменные окружения**: Установка протокола, DNS и других сетевых параметров через переменные окружения.
- **Управление клиентами**: Возможность управлять профилями клиентов через веб-интерфейс.
- **Масштабируемость**: Легкость в добавлении и управлении клиентами VPN.

## Предварительные требования

Прежде чем использовать этот проект, вам необходимо установить Docker и Docker Compose. Инструкции по установке можно найти по следующим ссылкам:
- [Установка Docker](https://docs.docker.com/get-docker/)
- [Установка Docker Compose](https://docs.docker.com/compose/install/)

## Установка и настройка

1. Создайте директорию для сервера и перейдите в неё:
```bash
mkdir openvpn
cd openvpn
```
2. Создайте файл `docker-compose.yml` с содержимым:
```yaml
services:
    openvpn:
        image: gigster2000/openvpn:v1.0
        restart: unless-stopped
        environment:
            - PROTOCOL=udp
            - INTERFACE_TYPE=tun
            - PORT=1194
            - DNS1=1.1.1.1
            - DNS2=1.0.0.1
            - SUBNET=172.16.88.0 255.255.255.0
            - WEB_OPENVPN_PASSWORD=qwerty
        volumes:
            - ./volume:/etc/openvpn
        ports:
            - 1194:1194/udp
            - 8080:8080/tcp
        cap_add:
            - NET_ADMIN
        devices:
            - /dev/net/tun
```

3. Запустите проект:
```bash
docker compose up -d
```
Это создаст и запустит все необходимые Docker контейнеры в фоновом режиме. Стоит иметь ввиду что первый запуск потребует большего времени чем каждый последующий, в связи с инициализацией vpn сервера.

## Использование

- **Доступ к веб-интерфейсу**: После запуска сервера откройте `http://<IP-адрес-сервера>:8080` в вашем браузере для доступа к веб-интерфейсу.
- **Управление клиентами**: Используйте веб-интерфейс для создания, удаления или управления клиентскими профилями, для авторизации используйте пароль указанный в docker-compose файле, в environment: WEB_OPENVPN_PASSWORD.
- **Управление сервером**: Вы можете запускать и останавливать VPN-сервер с помощью команд Docker Compose.
```bash
docker compose up -d # Запуск
docker compose down # Остановка
```

## Поддержка

Если у вас возникнут вопросы или проблемы, вы можете создать issue в репозитории GitHub.

## Лицензия

Этот проект распространяется под лицензией MIT. Для деталей смотрите файл `LICENSE`.
